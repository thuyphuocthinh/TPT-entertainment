extends ../../layouts/default.pug
include ../../mixins/box-head.pug 
include ../../mixins/search.pug 
include ../../mixins/changeMulti.pug 
include ../../mixins/status.pug 
include ../../mixins/sort.pug 
include ../../mixins/filterByStatus.pug 
include ../../mixins/alert.pug 
include ../../mixins/pagination.pug 
include ../../mixins/modal.pug 

block main
    .container 
        +box-head(pageTitle)

        +alertSuccess("3000")
        +alertError("3000")

        .row 
            .col-12
                .card 
                    .card-header.fw-bold Tìm kiếm, sắp xếp, lọc
                    .card-body 
                        .row 
                            .col-4 
                                +search(keyword)
                            .col-4 
                                +sort(sortCriteria, sortBy)
                            .col-4 
                                +filterByStatus(filterCriteria, filter)

        .row.mt-4 
            .col-12 
                .card 
                    .card-header.fw-bold Cập nhật, Thêm mới 
                    .card-body.d-flex.justify-content-between 
                        +changeMulti("singers")
                        a(
                            href=`${prefixAdmin}/roles/create`
                            class="btn btn-secondary"
                        ) 
                            i.fa-solid.fa-plus
                            span.ms-2 Thêm mới

        .row.mt-4 
            .col-12 
                .card 
                    .card-header.fw-bold Danh sách 
                    .card-body 
                        if (roles.length > 0) 
                            table.table.table-hover
                                thead
                                    tr.text-center
                                        th(scope='col')
                                            input(type="checkbox" name="" checkbox-all class="form-check-input")
                                        th(scope='col') STT
                                        th(scope='col') Tên 
                                        th(scope='col') Mô tả 
                                        th(scope='col') Status 
                                        th(scope='col') Actions
                                
                                tbody
                                    each role, index in roles 
                                        tr.text-center.align-middle 
                                            td 
                                                input(type="checkbox" name="" checkbox-single=role.id class="form-check-input")    
                                            td #{index + 1}
                                            td.fw-bold #{role.title}
                                            td !{role.description}
                                            td 
                                                +status(role, "roles")
                                            td 
                                                a(href=`${prefixAdmin}/roles/edit/${role.id}` class="btn btn-warning me-2") Sửa 
                                                button(type="button" class="btn btn-danger" data-bs-toggle="modal" data-bs-target=`#${role.slug}`) Xóa
                                                +modal(role.slug, role.id, role.title, "vai trò", "roles")
            
                            +pagination(pagination)
                        else 
                            tr(col-span="8") Chưa có vai trò nào 

    script(src="/admin/js/index.js") 